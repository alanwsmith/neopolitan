<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neopolitan - A plain-text format for my website</title>
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Neopolitan - A plain-text format for my website" />
  <meta property="og:description"
    content="Details on the open-source, plain-text format I'm setting up to manage the content for my site" />
  <meta property="og:image" content="" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site:id" content="@TheIdOfAlan" />
  <meta name="twitter:creator" content="@TheIdOfAlan" />
  <link rel="icon" type="image/png" sizes="228x228" href="/favicons/228x228.png" />
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/favicons/180x180.png" />
  <link rel="stylesheet" href="/styles/global.css" />



</head>

<body>
    <header>
      <nav>
        <ul>
          <li>
            <a href="/index.html">Neopolitan</a>
          </li>
          <li>
            <a href="/philosophy/index.html">Philosophy</a>
          </li>
          <li>
            <a href="/todo/index.html">TODOs</a>
          </li>
        </ul>
      </nav>

    </header>
  <main><h1 class="title">
  <p>Neopoliltan Philosophies</p>
</h1><h2>Overview</h2>
<p>These are the thoughts, influences, and decisions that lead to neopolitan&#x27;s design.</p>
<h2>The Philosophies</h2>
<h3>HTML Focused</h3>
<p>My primary output target is HTML. Most HTML tags have native counterparts to support that. This largely stems from the fact that I want to use description lists but those aren&#x27;t included in the default markdown I use.</p>
<h4>AST Over Output</h4>
<p>This project can be broken into two parts:</p>
<ul>
  <li>
    <p>The format and the AST</p>
  </li>
  <li>
    <p>The output</p>
  </li>
</ul><p>The specification only deals with the AST and the output. The project includes and example output renderer but based on what I&#x27;ve seen with Markdown trying to define an implementation via a spec isn&#x27;t likely to work out well.</p>
<p>See <a href="https://xkcd.com/927/">XKCD 927</a> for reference</p>
<h3>Raw Text In The AST</h3>
<p>I&#x27;m not doing an conversion for HTML escaping in the process that makes the AST. I&#x27;m leaving that to the output processor. That&#x27;s an implementation detail, but I prefer splitting the two that way.</p>
<h3>Footnotes And References</h3>
<p>Use the first line after them as the name which is what&#x27;s tied into the key from the content. (e.g. <code>&gt;&gt; Some Name</code> connects to `&lt;&lt;^ Some Name &gt;&gt;`. Surrounding white space is trimmed. Internal spaces are allowed but must match as the value is used as a direct key.</p>
<h3>Insignificant Whitespace</h3>
<p>It doesn&#x27;t matter in most places except for:</p>
<ul>
  <li>
    <p>Blank lines that act as separators between sections and list items</p>
  </li>
  <li>
    <p>Key names in footnotes and references</p>
  </li>
</ul><h3>Section Types</h3>
<p>There are different types of sections:</p>
<p>- Basic Processed Content (e.g. <code>-&gt; p</code>)</p>
<p>- List Processed Content (e.g. <code>-&gt; list</code>)</p>
<p>- Raw Content (e.g. <code>-&gt; code</code>)</p>
<p>- Metadata Driven content (e.g. <code>-&gt; youtube</code>)</p>
<p>- Basic Metadata (e.g. <code>-&gt; attributes</code>)</p>
<p>- Custom sections (e.g. <code>-&gt; wc</code> and <code>-&gt; c</code>)</p>
<h3>Everything is a string</h3>
<p>There&#x27;s no attempt in the AST to convert to numbers. Everything is a string.</p>
<h3>Attributes Are Key Values By Default</h3>
<p>The attributes section of my implementation contains only key&#x2f;value pairs. The AST leave the option of using other formats in the content section as well.</p>
<h3>No Form Section</h3>
<p>I was considering a <code>-&gt; form</code> section but decided against it. Better to just roll out to an `-&gt; html` section for that based of the complexity.</p>
<h3>Sections For Styling</h3>
<p>Several sections (like notes and notes) are simply alternate versions of other sections (paragraphs and lists for example). The intent it to provide different element types to make them easier to categorize and style</p>
<h3>Only One Style For Attributes</h3>
<p>I considered two types of attributes for sections. One that would go directly into the HTML and one that was for directives that would only be used for processing. For example, instead of:</p>
<pre><code>-&gt; code
&gt;&gt; rust
&gt;&gt; class: alfa</code></pre><p>The <code>rust</code> line would get a separate starting token indicating that that string wouldn&#x27;t go directly to the output but was a processor instruction (which would let it know to add <code>language-rust</code> to the HTML attribute list).</p>
<p>It would have looked something like this:</p>
<pre><code>-&gt; code
++ rust
&gt;&gt; class: alfa</code></pre><p>I decided against that because it would require remembering which things were directives and which weren&#x27;t. For my implementation, it&#x27;s the responsibility of the processor to make the determination.</p>
<h3>Minijinja Templates</h3>
<p>I&#x27;m using Minijinja for the template engine. This is an implementation detail that isn&#x27;t required. I&#x27;m also using the <code>.jinja</code> file extension instead of <code>.html</code>. I&#x27;m going with that because my auto-formatter kepts messing with the templates in a way that altered the spacing. I haven&#x27;t found a maintained jinja extension for neovim tree-sitter. Something to add to the list.</p>
<h3>No iFrame Section</h3>
<p>Just roll out to `-&gt; html`</p>
<h3>Convenience Sections</h3>
<p>Several sections exist purely for convenience. For example, it wouldn&#x27;t be that hard to make a <code>-&gt; div</code> section with a <code>&gt;&gt; class: warning</code> on it, but I do that so often it&#x27;s nicer to have a <code>-&gt; warning</code> section.</p>
<p>This also goes for sections that are nothing more than aliases for standard HTML tags. For example, adding a <code>&lt;textarea&gt;</code> with any necessary attributes is not much more work than making a <code>-&gt; textarea</code> section. But, the section keeps the look consistent with the rest of the page and I think it looks nicer than that HTML tag.</p>
<h3>Either HTML or Neopolitan</h3>
<p>You can&#x27;t put HTML in any section other than an <code>-&gt; html</code> section. That prevents issues with escaping and parsing characters that are meaningful in HTML (e.g. <code>&lt;</code>, <code>&gt;</code>, etc...)</p>
<p>Most HTML tags have neopolitan tags mapped to them. Anything that doesn&#x27;t or needs more nuance can be handled with an <code>-&gt; html</code> section. If you&#x27;re trying to do something that that doesn&#x27;t handle, you&#x27;re beyond the scope of the format and will have to find your own solution.</p>
</main>
</body>
</html>